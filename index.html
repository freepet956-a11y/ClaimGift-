<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CLAIM GIFT</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#0f1724;
    --panel:#0b1220;
    --accent-yellow: #ffd836;
    --roblox-blackblue-start: #071014;
    --roblox-blackblue-end: #0b5b8a;
    --muted:#9aa4b2;
    --white:#ffffff;
    --live-bg: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  html,body{height:100%; margin:0; font-family:Inter, Arial, sans-serif; background: linear-gradient(180deg,#071021 0%, #07182a 60%); color:var(--white); -webkit-font-smoothing:antialiased}
  .container{
    max-width:1000px;
    margin:36px auto;
    padding:28px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px;
    box-shadow: 0 12px 40px rgba(2,6,23,0.6);
    display:grid;
    grid-template-columns: 1fr 360px;
    gap:20px;
    align-items:start;
  }

  header{
    grid-column: 1 / -1;
    display:flex;
    flex-direction:column;
    gap:8px;
    align-items:flex-start;
  }

  .title{
    font-family: 'Press Start 2P', monospace;
    font-size:28px;
    color:var(--accent-yellow);
    letter-spacing:1px;
    text-shadow:
      0 2px 0 rgba(0,0,0,0.6),
      0 6px 18px rgba(255,216,54,0.06);
    margin:0;
  }
  .roblox{
    margin-top:6px;
    font-weight:700;
    font-size:22px;
    background: linear-gradient(90deg, var(--roblox-blackblue-start), var(--roblox-blackblue-end));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    letter-spacing:1px;
    align-self:flex-start;
  }

  .left{
    min-height:520px;
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:16px;
    align-items:center;
    justify-content:flex-start;
  }

  .connect-card{
    width:100%;
    max-width:640px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.04);
    padding:20px;
    border-radius:12px;
    box-shadow: 0 8px 30px rgba(2,8,20,0.5);
  }
  .connect-card h2{ margin:0 0 6px 0; font-size:18px; color:var(--white); font-weight:700; }
  .connect-card .secure{ font-size:12px; color:var(--muted); margin-bottom:14px; }
  .connect-card .card-subtitle{ margin-top:6px; color:var(--muted); font-size:13px; }

  .field{ display:flex; gap:12px; align-items:center; margin-top:6px; }
  .input{
    flex:1; padding:12px 14px;
    background: rgba(255,255,255,0.02);
    border:1px solid rgba(255,255,255,0.04);
    border-radius:8px;
    color:var(--white);
    font-size:13px;
    outline:none;
  }
  .input::placeholder{ color:#9aa4b2; font-weight:600; font-size:12px }
  .connect-btn{
    padding:12px 14px;
    background: linear-gradient(180deg,#0ea5a3,#026a67);
    color:var(--white);
    border-radius:8px;
    border:0;
    cursor:pointer;
    font-weight:700;
    letter-spacing:0.6px;
  }

  .connect-note{ margin-top:8px; font-size:13px; color:var(--muted); text-align:left; }

  .right{ padding:18px; display:flex; flex-direction:column; gap:12px; }
  .live-card{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:12px; padding:12px;
    border:1px solid rgba(255,255,255,0.04);
    box-shadow: 0 8px 30px rgba(2,8,20,0.5);
    height:380px; overflow:hidden;
    display:flex; flex-direction:column;
  }
  .live-header{ font-weight:700; font-size:14px; margin-bottom:8px; color:var(--white); display:flex; justify-content:space-between; align-items:center; }
  .live-list{ flex:1; overflow:auto; padding-right:6px; }

  .live-item{
    display:flex; align-items:center; gap:12px;
    padding:10px; border-radius:8px; margin-bottom:10px;
    background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
    border:1px solid rgba(255,255,255,0.02);
    transform-origin:left center;
    animation:slideIn 360ms cubic-bezier(.2,.9,.2,1);
  }
  @keyframes slideIn{ from{ transform: translateX(-14px); opacity:0 } to{ transform: translateX(0); opacity:1 } }
  .avatar{ width:46px; height:46px; border-radius:8px; background: linear-gradient(180deg,#fff,#eee); display:flex; align-items:center; justify-content:center; font-weight:700; color:#111; font-size:14px; flex-shrink:0; }
  .gift-info{ display:flex; flex-direction:column; }
  .name{ font-weight:700; font-size:13px; color:var(--white); }
  .gift{ font-size:13px; color:var(--muted); }
  .time{ margin-left:auto; font-size:12px; color:var(--muted); }

  .live-footer{ margin-top:12px; display:flex; gap:8px; align-items:center; justify-content:space-between; }
  .live-stats{ font-size:13px; color:var(--muted); }
  .chip{ background: rgba(255,255,255,0.03); padding:6px 10px; border-radius:999px; font-size:12px; color:var(--white); }

  @media (max-width:920px){
    .container{ grid-template-columns: 1fr; padding:16px; gap:12px; }
    .right{ order:2 }
    .left{ order:1 }
  }
  .input:focus{ box-shadow: 0 6px 20px rgba(2,8,20,0.6); border-color: rgba(255,255,255,0.08) }
  .connect-btn:active{ transform: translateY(1px) }
</style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <div class="title">CLAIM GIFT</div>
        <div class="roblox">GAME ROBLOX</div>
      </div>
    </header>

    <div class="left">
      <div class="connect-card">
        <h2>Connect Your Roblox Account</h2>
        <div class="card-subtitle">Claim your free gift — connect to your Roblox account securely</div>
        <div class="secure">Secure connection - No password required</div>

        <div class="field">
          <input id="username" class="input" type="text" placeholder="USER NAME ROBLOX">
          <button id="connectBtn" class="connect-btn">Connect account</button>
        </div>

        <div class="connect-note" id="connectNote">
          Please enter your Roblox username and press <strong>Connect account</strong>. This page does not collect passwords — only username is required to deliver the gift.
        </div>
      </div>

      <div style="width:100%; max-width:640px; background:var(--live-bg); border-radius:12px; padding:14px; color:var(--muted); font-size:13px;">
        <strong>Note:</strong> Gifts are distributed live on the right. New claim logs appear automatically every 3 seconds.
      </div>
    </div>

    <aside class="right">
      <div class="live-card" id="liveCard">
        <div class="live-header">
          <div>Live Gift</div>
          <div class="chip" id="totalCount">Total: 0</div>
        </div>
        <div class="live-list" id="liveList"></div>
        <div class="live-footer">
          <div class="live-stats" id="recentInfo">Last: —</div>
          <div style="display:flex;gap:8px;">
            <div class="chip">Updates: every 3s</div>
            <div class="chip" id="statusDot">● Live</div>
          </div>
        </div>
      </div>
    </aside>
  </div>

<script>
const liveList=document.getElementById('liveList');
const totalCountEl=document.getElementById('totalCount');
const recentInfo=document.getElementById('recentInfo');
let total=0;
const nameParts1=['xX','Pro','Mega','Noob','Gamer','Elite','Lucky','Dark','Light','Builder','Pixel','Sir','Queen','King'];
const nameParts2=['Player','Roblox','Runner','Master','Crafter','Miner','Slayer','Ninja','Boss','Legend','Hero','Buddy','Z'];
const gifts=['Exclusive Hat','Limited Emote','Rare Pet','500 Robux','VIP Access','Golden Sword','Mystery Box','Premium Gear','Avatar Skin','Special Badge'];

function generateUsername(){const p1=nameParts1[Math.floor(Math.random()*nameParts1.length)];const p2=nameParts2[Math.floor(Math.random()*nameParts2.length)];const num=Math.random()<.45?'':String(Math.floor(Math.random()*9999));const sep=Math.random()<.35?'_':'';return(p1+sep+p2+num).replace(/\s+/g,'');}
function avatarText(n){const w=n.replace(/[^A-Za-z0-9]/g,' ').split(' ').filter(Boolean);let i='';if(w.length>=2){i=(w[0][0]+w[1][0]).toUpperCase();}else{i=(n[0]||'U').toUpperCase();if(n.length>1)i+=(n[1]||'').toUpperCase();}return i.slice(0,2);}
function timeNow(){return new Date().toLocaleTimeString('en-US',{hour12:false});}
function escapeHtml(s){return String(s).replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));}
function pushEvent(name,gift){total++;const time=timeNow();const item=document.createElement('div');item.className='live-item';item.innerHTML=`<div class="avatar">${escapeHtml(avatarText(name))}</div><div class="gift-info"><div class="name">${escapeHtml(name)}</div><div class="gift">received <strong>${escapeHtml(gift)}</strong></div></div><div class="time">${escapeHtml(time)}</div>`;liveList.insertBefore(item,liveList.firstChild);if(liveList.childElementCount>50)liveList.removeChild(liveList.lastChild);totalCountEl.textContent='Total: '+total;recentInfo.textContent=`Last: ${name} · ${gift} · ${time}`;}

(function(){for(let i=0;i<6;i++){setTimeout(()=>pushEvent(generateUsername(),gifts[Math.floor(Math.random()*gifts.length)]),300*i+60)}})();
setInterval(()=>pushEvent(generateUsername(),gifts[Math.floor(Math.random()*gifts.length)]),3000);

const connectBtn=document.getElementById('connectBtn');
const usernameInput=document.getElementById('username');
const connectNote=document.getElementById('connectNote');

async function checkRobloxUsername(username){
  const body={usernames:[username],excludeBannedUsers:true};
  const endpoints=['https://users.roblox.com/v1/usernames/users','https://api.roproxy.com/users/v1/usernames/users'];
  let lastError=null;
  for(const url of endpoints){
    try{
      const resp=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});
      if(!resp.ok){lastError=`HTTP ${resp.status} from ${url}`;continue;}
      const data=await resp.json();
      if(Array.isArray(data.data)&&data.data.length>0){return{ok:true,source:url,user:data.data[0]};}
      return{ok:false,reason:'not_found',source:url};
    }catch(err){lastError=err.message||String(err);continue;}
  }
  return{ok:false,reason:'error',error:lastError};
}

connectBtn.addEventListener('click',async()=>{
  const raw=usernameInput.value.trim();
  if(!raw){connectNote.textContent='Please enter your Roblox username to connect.';connectNote.style.color='#fca5a5';return;}
  connectBtn.disabled=true;connectBtn.textContent='Checking...';connectNote.textContent='Verifying username with Roblox...';connectNote.style.color='#9aa4b2';
  const result=await checkRobloxUsername(raw);
  connectBtn.disabled=false;connectBtn.textContent='Connect account';
  if(result.ok){const found=result.user;pushEvent(found.name,gifts[Math.floor(Math.random()*gifts.length)]);connectNote.innerHTML=`Connected as <strong>${escapeHtml(found.name)}</strong>. Verified via <code>${escapeHtml(result.source)}</code>. Your gift was added.`;connectNote.style.color='#9ae6b4';usernameInput.value='';}
  else if(result.reason==='not_found'){connectNote.textContent='Username not found on Roblox. Please check spelling.';connectNote.style.color='#fca5a5';}
  else{connectNote.innerHTML=`Unable to verify username (network/CORS issue). Error: ${escapeHtml(result.error||'unknown')}.`;connectNote.style.color='#fcd34d';}
});
</script>
</body>
</html>

  /* NEW: subtitle moved inside the card */
  .connect-card .card-subtitle{
    margin-top:6px;
    color:var(--muted);
    font-size:13px;
  }

  .field{
    display:flex;
    gap:12px;
    align-items:center;
    margin-top:6px;
  }
  .input{
    flex:1;
    padding:12px 14px;
    background: rgba(255,255,255,0.02);
    border:1px solid rgba(255,255,255,0.04);
    border-radius:8px;
    color:var(--white);
    font-size:13px;
    outline:none;
  }
  .input::placeholder{ color: #9aa4b2; font-weight:600; font-size:12px }
  .connect-btn{
    padding:12px 14px;
    background: linear-gradient(180deg,#0ea5a3,#026a67);
    color:var(--white);
    border-radius:8px;
    border:0;
    cursor:pointer;
    font-weight:700;
    letter-spacing:0.6px;
  }

  .connect-note{
    margin-top:8px;
    font-size:13px;
    color:var(--muted);
    text-align:left;
  }

  .right{
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .live-card{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:12px;
    padding:12px;
    border:1px solid rgba(255,255,255,0.04);
    box-shadow: 0 8px 30px rgba(2,8,20,0.5);
    height:380px;
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }
  .live-header{
    font-weight:700;
    font-size:14px;
    margin-bottom:8px;
    color:var(--white);
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
  .live-list{
    flex:1;
    overflow:auto;
    padding-right:6px;
  }

  .live-item{
    display:flex;
    align-items:center;
    gap:12px;
    padding:10px;
    border-radius:8px;
    margin-bottom:10px;
    background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
    border:1px solid rgba(255,255,255,0.02);
    transform-origin:left center;
    animation:slideIn 360ms cubic-bezier(.2,.9,.2,1);
  }
  @keyframes slideIn{
    from{ transform: translateX(-14px); opacity:0 }
    to{ transform: translateX(0); opacity:1 }
  }
  .avatar{
    width:46px; height:46px; border-radius:8px;
    background: linear-gradient(180deg,#fff,#eee);
    display:flex; align-items:center; justify-content:center;
    font-weight:700; color:#111; font-size:14px;
    flex-shrink:0;
  }
  .gift-info{
    display:flex; flex-direction:column;
  }
  .name{
    font-weight:700; font-size:13px; color:var(--white);
  }
  .gift{
    font-size:13px; color:var(--muted);
  }
  .time{
    margin-left:auto; font-size:12px; color:var(--muted);
  }

  .live-footer{
    margin-top:12px;
    display:flex;
    gap:8px;
    align-items:center;
    justify-content:space-between;
  }
  .live-stats{ font-size:13px; color:var(--muted); }
  .chip{
    background: rgba(255,255,255,0.03);
    padding:6px 10px; border-radius:999px; font-size:12px; color:var(--white);
  }

  @media (max-width:920px){
    .container{ grid-template-columns: 1fr; padding:16px; gap:12px; }
    .right{ order:2 }
    .left{ order:1 }
  }

  .input:focus{ box-shadow: 0 6px 20px rgba(2,8,20,0.6); border-color: rgba(255,255,255,0.08) }
  .connect-btn:active{ transform: translateY(1px) }
</style>
</head>
<body>
  <div class="container" role="main" aria-label="Claim Gift page">
    <header>
      <div>
        <div class="title smallspace">CLAIM GIFT</div>
        <div class="roblox">GAME ROBLOX</div>
      </div>
      <!-- removed outer subtitle: now inside connect card -->
    </header>

    <div class="left">
      <div class="connect-card" aria-labelledby="connect-title">
        <h2 id="connect-title">Connect Your Roblox Account</h2>

        <!-- MOVED: subtitle inside the card -->
        <div class="card-subtitle">Claim your free gift — connect to your Roblox account securely</div>

        <div class="secure">Secure connection - No password required</div>

        <div class="field" style="margin-top:8px">
          <input id="username" class="input" type="text" placeholder="USER NAME ROBLOX" aria-label="Roblox username">
          <button id="connectBtn" class="connect-btn" aria-label="Connect account">Connect account</button>
        </div>

        <div class="connect-note" id="connectNote">
          Please enter your Roblox username and press <strong>Connect account</strong>. This page does not collect passwords — only username is required to deliver the gift.
        </div>
      </div>

      <div style="width:100%; max-width:640px; background:var(--live-bg); border-radius:12px; padding:14px; color:var(--muted); font-size:13px;">
        <strong>Note:</strong> Gifts are distributed live on the right. New claim logs appear automatically every 3 seconds.
      </div>
    </div>

    <aside class="right" aria-label="Live gifts">
      <div class="live-card" id="liveCard" role="region" aria-live="polite">
        <div class="live-header">
          <div>Live Gift</div>
          <div class="chip" id="totalCount">Total: 0</div>
        </div>

        <div class="live-list" id="liveList" aria-atomic="true"></div>

        <div class="live-footer">
          <div class="live-stats" id="recentInfo">Last: —</div>
          <div style="display:flex;gap:8px;">
            <div class="chip">Updates: every 3s</div>
            <div class="chip" id="statusDot">● Live</div>
          </div>
        </div>
      </div>
    </aside>
  </div>

<script>
/* ---------- Live gift generator (unchanged majority) ---------- */
const liveList = document.getElementById('liveList');
const totalCountEl = document.getElementById('totalCount');
const recentInfo = document.getElementById('recentInfo');
let total = 0;
let events = [];
const nameParts1 = ['xX','Pro','Mega','Noob','Gamer','Elite','Lucky','Dark','Light','Builder','Pixel','Sir','Queen','King'];
const nameParts2 = ['Player','Roblox','Runner','Master','Crafter','Miner','Slayer','Ninja','Boss','Legend','Hero','Buddy','Z'];
const gifts = ['Exclusive Hat','Limited Emote','Rare Pet','500 Robux','VIP Access','Golden Sword','Mystery Box','Premium Gear','Avatar Skin','Special Badge'];

function generateUsername(){
  const p1 = nameParts1[Math.floor(Math.random()*nameParts1.length)];
  const p2 = nameParts2[Math.floor(Math.random()*nameParts2.length)];
  const num = Math.random() < 0.45 ? '' : String(Math.floor(Math.random()*9999));
  const sep = Math.random() < 0.35 ? '_' : '';
  return (p1 + sep + p2 + num).replace(/\s+/g,'');
}
function avatarText(name){
  const words = name.replace(/[^A-Za-z0-9]/g,' ').split(' ').filter(Boolean);
  let initials = '';
  if(words.length >= 2){
    initials = (words[0][0] + words[1][0]).toUpperCase();
  } else {
    initials = (name[0] || 'U').toUpperCase();
    if(name.length > 1) initials += (name[1] || '').toUpperCase();
  }
  return initials.slice(0,2);
}
function timeNow(){
  const d = new Date();
  return d.toLocaleTimeString('en-US', {hour12:false});
}
function escapeHtml(s){ return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

function pushEvent(name, gift){
  total++;
  const time = timeNow();
  const item = document.createElement('div');
  item.className = 'live-item';
  item.innerHTML = `
    <div class="avatar">${escapeHtml(avatarText(name))}</div>
    <div class="gift-info">
      <div class="name">${escapeHtml(name)}</div>
      <div class="gift">received <strong>${escapeHtml(gift)}</strong></div>
    </div>
    <div class="time">${escapeHtml(time)}</div>
  `;
  liveList.insertBefore(item, liveList.firstChild);
  if(liveList.childElementCount > 50) liveList.removeChild(liveList.lastChild);
  totalCountEl.textContent = 'Total: ' + total;
  recentInfo.textContent = `Last: ${name} · ${gift} · ${time}`;
  events.push({timestamp: new Date().toISOString(), username: name, gift: gift});
  console.log('Gift event:', name, 'received', gift, 'at', time);
}

/* seed initial */
(function seedInitial(){
  for(let i=0;i<6;i++){
    const n = generateUsername();
    const g = gifts[Math.floor(Math.random()*gifts.length)];
    setTimeout(()=> pushEvent(n,g), 300*i + 60);
  }
})();

let ticker = null;
function startTicker(){
  if(ticker) return;
  ticker = setInterval(()=>{
    const name = generateUsername();
    const gift = gifts[Math.floor(Math.random()*gifts.length)];
    pushEvent(name, gift);
  }, 3000);
}
startTicker();

/* ---------- Roblox username validation logic ---------- */

/*
 Strategy:
 1) Try official API:
    POST https://users.roblox.com/v1/usernames/users
    Body: { "usernames": ["<username>"], "excludeBannedUsers": true }
    If response.data array non-empty => username exists (real account).
 2) If direct request fails (CORS/network), fall back to RoProxy:
    POST https://api.roproxy.com/users/v1/usernames/users
 3) If both fail, show an explicit message telling the operator to set up a small proxy server.
 Note: This will not validate "account activity" (online status) — only that the username resolves to a Roblox user.
*/

const connectBtn = document.getElementById('connectBtn');
const usernameInput = document.getElementById('username');
const connectNote = document.getElementById('connectNote');

async function checkRobloxUsername(username){
  // normalize
  const body = { usernames: [username], excludeBannedUsers: true };

  // list of endpoints to try in order
  const endpoints = [
    'https://users.roblox.com/v1/usernames/users',                         // official
    'https://api.roproxy.com/users/v1/usernames/users'                     // roproxy fallback
  ];

  let lastError = null;
  for(const url of endpoints){
    try{
      const resp = await fetch(url, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(body),
      });
      // If response is not JSON or status not OK, treat as failure and try next
      if(!resp.ok){
        lastError = `HTTP ${resp.status} from ${url}`;
        continue;
      }
      const data = await resp.json();
      // The official shape: { data: [ { id, name, displayName, ... } ] }
      if(Array.isArray(data.data) && data.data.length > 0){
        // ensure returned name matches (case-insensitive)
        const found = data.data[0];
        if(found && found.name){
          return { ok: true, source: url, user: found };
        }
      }
      // No user found
      return { ok: false, reason: 'not_found', source: url };
    }catch(err){
      // network/CORS
      lastError = err && err.message ? err.message : String(err);
      // try next endpoint
      continue;
    }
  }
  return { ok: false, reason: 'error', error: lastError };
}

// Handler for connect button
connectBtn.addEventListener('click', async () => {
  const raw = usernameInput.value.trim();
  connectNote.style.color = varColor('--muted') || '#9aa4b2';
  if(!raw){
    connectNote.textContent = 'Please enter your Roblox username to connect.';
    connectNote.style.color = '#fca5a5';
    return;
  }

  // UX: indicate checking
  connectBtn.disabled = true;
  connectBtn.textContent = 'Checking...';
  connectNote.textContent = 'Verifying username with Roblox...';
  connectNote.style.color = '#9aa4b2';

  const result = await checkRobloxUsername(raw);

  connectBtn.disabled = false;
  connectBtn.textContent = 'Connect account';

  if(result.ok){
    // success — real account
    const found = result.user;
    pushEvent(found.name, gifts[Math.floor(Math.random()*gifts.length)]);
    connectNote.innerHTML = `Connected as <strong>${escapeHtml(found.name)}</strong>. Verified via <code>${escapeHtml(result.source)}</code>. Your gift was added to the Live Gift list.`;
    connectNote.style.color = '#9ae6b4';
    usernameInput.value = '';
  } else {
    // handle different failure reasons
    if(result.reason === 'not_found'){
      connectNote.textContent = 'Username not found on Roblox. Please check spelling or try another username.';
      connectNote.style.color = '#fca5a5';
    } else {
      // error: likely CORS or network error
      connectNote.innerHTML = `Unable to verify username automatically (network / CORS / proxy issue). Error: ${escapeHtml(String(result.error || 'unknown'))}.<br>
      <strong>Options:</strong> (1) Try again later; (2) set up a small server-side proxy (example below) so the site can verify usernames reliably.`;
      connectNote.style.color = '#fcd34d';
      // show small server proxy instructions in console as well
      console.warn('Roblox verification error:', result);
    }
  }
});

// small helper to read CSS variable color
function varColor(name){
  try{ return getComputedStyle(document.documentElement).getPropertyValue(name).trim() }catch(e){return null}
}

/* ---------- If proxy required: Node.js example (displayed in dev console) ---------- */

console.info('If Roblox API calls are blocked by CORS, run a small proxy server. Example Node.js (Express) code:');
console.info(`
// Example proxy (save as proxy.js). Run: node proxy.js
const express = require('express');
const fetch = require('node-fetch'); // npm i node-fetch
const app = express();
app.use(express.json());
app.post('/check-roblox', async (req, res) => {
  try {
    const body = req.body; // { usernames: ["name"], excludeBannedUsers: true }
    const resp = await fetch('https://users.roblox.com/v1/usernames/users', {
      method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(body)
    });
    const data = await resp.json();
    res.json(data);
  } catch (err) {
    res.status(500).json({ error: String(err) });
  }
});
app.listen(4000,()=>console.log('proxy listening on :4000'));
`);
</script>
</body>
</html>
